<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Host Website - Using ECLOF Plugin</title>
    <style>
        body { font-family: sans-serif; padding: 20px; background-color: #f0f0f0; color: #333; }
        h1, h2 { color: #1a1a1a; }
        .plugin-area { border: 2px dashed #007bff; padding: 20px; margin-top: 25px; background-color: #ffffff; box-shadow: 0 2px 5px rgba(0,0,0,0.1); border-radius: 5px; min-height: 150px;}
        /* Host page might have its own styles that could conflict without prefixing */
        button { background-color: #6f42c1; color: white; padding: 10px 15px; border: none; border-radius: 4px; cursor: pointer; margin-top: 10px; }
        hr { margin: 30px 0; border: 0; border-top: 1px solid #ccc; }
        code { background-color: #e9ecef; padding: 2px 4px; border-radius: 3px; }
    </style>
    <!-- 1. Include the Plugin CSS -->
    <!-- Production: <link rel="stylesheet" href="https://your-cdn.com/eclof-plugin.css"> -->
    <!-- Local testing: -->
    <link rel="stylesheet" href="eclof-plugin.css"> <!-- Assume this is the bundled/prefixed CSS -->

</head>
<body>

    <h1>Welcome to the Host Website</h1>
    <p>This page demonstrates embedding the ECLOF Borrower Profile plugin using the conceptual structure.</p>
    <p>The plugin requires a separate, running API backend at the specified <code>apiBaseUrl</code>.</p>

    <hr>

    <h2>Borrower Form Area:</h2>
    <p>The plugin will render the borrower form inside the <code>div</code> below.</p>
    <!-- 2. Add a target element for the form -->
    <div id="borrower-form-container" class="plugin-area">
        <!-- Plugin will render form here -->
        <p><i>Waiting for plugin initialization...</i></p>
    </div>

    <hr>

    <h2>Admin Access Area:</h2>
    <p>The plugin will render the admin access point (e.g., a link or login form) inside the <code>div</code> below.</p>
    <!-- 3. Add a target element for the admin interface -->
    <div id="admin-interface-container" class="plugin-area">
        <!-- Plugin will render admin link/login/dashboard here -->
        <p><i>Waiting for plugin initialization...</i></p>
    </div>

    <!-- 4. Include the Plugin JavaScript -->
    <!-- Production: <script src="https://your-cdn.com/eclof-plugin.min.js"></script> -->
    <!-- Local testing: -->
    <script src="plugin-init.js"></script> <!-- Contains the init logic -->

    <!-- 5. Initialize the plugin instances -->
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            console.log('Host page DOM loaded. Initializing ECLOF Plugin...');

            const apiBase = 'http://localhost:3000'; // IMPORTANT: Replace with your actual hosted API URL

            try {
                // Initialize the Borrower Form
                window.ECLOFPlugin.init({
                    targetElementSelector: '#borrower-form-container',
                    apiBaseUrl: apiBase,
                    mode: 'form',
                    cssUrl: 'eclof-plugin.css' // Optional: Specify CSS URL if not linked in <head>
                    // Add other form-specific options if needed (e.g., defaultBranch: 'Nairobi')
                });
            } catch (error) {
                console.error("Error initializing Borrower Form plugin:", error);
                document.querySelector('#borrower-form-container').innerHTML = '<p style="color: red;">Error initializing Borrower Form plugin. Check console.</p>';
            }

            try {
                // Initialize the Admin Interface
                window.ECLOFPlugin.init({
                    targetElementSelector: '#admin-interface-container',
                    apiBaseUrl: apiBase,
                    mode: 'admin',
                    cssUrl: 'eclof-plugin.css' // Ensure CSS is loaded if needed
                    // Add other admin-specific options (e.g., onAuthRequired: () => { /* show login */ })
                });
            } catch (error) {
                console.error("Error initializing Admin Interface plugin:", error);
                document.querySelector('#admin-interface-container').innerHTML = '<p style="color: red;">Error initializing Admin Interface plugin. Check console.</p>';
            }
        });
    </script>

</body>
</html>
